<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Send Mail Using Gmail using Command Line - Abdullah Khabir</title><meta name="Description" content="An InfoSec related Blog"><meta property="og:title" content="Send Mail Using Gmail using Command Line" />
<meta property="og:description" content="Yeah, you can send mail from your gmail account using command line.
Requirements You have two options here.
Gmail account settings Either enable less secure apps in your Google account or Generate an app password.
Tools being used For Arch Linux:
1  $ sudo pacman -S msmtp   For Debian, Ubuntu and other Debian derived distributions:
1  $ sudo apt install -y msmtp   For Fedora, CentOS, Redhat etc:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://abdullah.today/send-mail-using-gmail-from-terminal/" /><meta property="og:image" content="https://abdullah.today/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-29T07:32:13+05:00" />
<meta property="article:modified_time" content="2020-11-29T07:32:13+05:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://abdullah.today/logo.png"/>

<meta name="twitter:title" content="Send Mail Using Gmail using Command Line"/>
<meta name="twitter:description" content="Yeah, you can send mail from your gmail account using command line.
Requirements You have two options here.
Gmail account settings Either enable less secure apps in your Google account or Generate an app password.
Tools being used For Arch Linux:
1  $ sudo pacman -S msmtp   For Debian, Ubuntu and other Debian derived distributions:
1  $ sudo apt install -y msmtp   For Fedora, CentOS, Redhat etc:"/>
<meta name="application-name" content="Abdullah Khabir">
<meta name="apple-mobile-web-app-title" content="Abdullah Khabir"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://abdullah.today/send-mail-using-gmail-from-terminal/" /><link rel="prev" href="https://abdullah.today/ssh-passwordless-authentication/" /><link rel="next" href="https://abdullah.today/linux-filesystem-directory-structure/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Send Mail Using Gmail using Command Line",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/abdullah.today\/send-mail-using-gmail-from-terminal\/"
        },"image": ["https:\/\/abdullah.today\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "mail, gmail, msmtp, mutt, terminal, suckless","wordcount":  267 ,
        "url": "https:\/\/abdullah.today\/send-mail-using-gmail-from-terminal\/","datePublished": "2020-11-29T07:32:13+05:00","dateModified": "2020-11-29T07:32:13+05:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "Abdullah Khabir","logo": "https:\/\/abdullah.today\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Abdullah Khabir"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Abdullah Khabir"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Allah is the Greatest!</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/" title="Some reminders"> InfoSec </a><a class="menu-item" href="/quran/"> Quran </a><a class="menu-item" href="/about/"> About </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Start typing to search..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Abdullah Khabir"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Allah is the Greatest!</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Start typing to search..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="Some reminders">InfoSec</a><a class="menu-item" href="/quran/" title="">Quran</a><a class="menu-item" href="/about/" title="">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><script data-ad-client="ca-pub-6819322586059940" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Send Mail Using Gmail using Command Line</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://abdullah.today" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Abdullah Khabir</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2020-11-29">2020-11-29</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;267 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;2 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#requirements">Requirements</a></li>
        <li><a href="#gmail-account-settings">Gmail account settings</a></li>
        <li><a href="#tools-being-used">Tools being used</a></li>
        <li><a href="#encrypt-password">Encrypt password</a></li>
        <li><a href="#configure-msmtp">Configure msmtp</a></li>
        <li><a href="#send-a-test-mail">Send a test mail</a></li>
        <li><a href="#use-with-mutt">Use with mutt</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Yeah, you can send mail from your gmail account using command line.</p>
<h3 id="requirements">Requirements</h3>
<p>You have two options here.</p>
<h3 id="gmail-account-settings">Gmail account settings</h3>
<p>Either <a href="https://myaccount.google.com/lesssecureapps" target="_blank" rel="noopener noreffer">enable less secure apps</a> in your Google account or <a href="https://myaccount.google.com/apppasswords" target="_blank" rel="noopener noreffer">Generate an app password</a>.</p>
<h3 id="tools-being-used">Tools being used</h3>
<p>For Arch Linux:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ sudo pacman -S msmtp 
</code></pre></td></tr></table>
</div>
</div><p>For Debian, Ubuntu and other Debian derived distributions:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ sudo apt install -y msmtp
</code></pre></td></tr></table>
</div>
</div><p>For Fedora, CentOS, Redhat etc:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ sudo dnf install msmtp
</code></pre></td></tr></table>
</div>
</div><h3 id="encrypt-password">Encrypt password</h3>
<p>Using <code>gpg</code>, we are going to encrypt our password. I have a detailed video tutorial on <code>gpg</code> if you&rsquo;re interested.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube-nocookie.com/embed/lDyj78M6_dQ" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ gpg -er <span class="s1">&#39;your gpg keyID&#39;</span> -o ~/.gmail-password.gpg -
</code></pre></td></tr></table>
</div>
</div><p>Now enter the password for your gmail from first step. Once done, enter <code>Ctrl + D</code>.</p>
<h3 id="configure-msmtp">Configure msmtp</h3>
<p>Paste this into <code>~/.msmtprc</code> or if you want <code>msmtp</code> system wide so any user on this system can use this gmail account to send mails, copy it to <code>/etc/msmtprc</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">defaults
auth    on
tls     on
tls_starttls    on
tls_trust_file  /etc/ssl/certs/ca-certificates.crt
logfile     ~/.msmtp.log

account myaccount
host    smtp.gmail.com
port    <span class="m">587</span>
from    your_gmail_address
user    your_gmail_address
passwordeval    <span class="s2">&#34;echo </span><span class="k">$(</span>gpg --batch -q --decrypt ~/.gmail-password.gpg<span class="k">)</span><span class="s2">&#34;</span>

account default: myaccount
</code></pre></td></tr></table>
</div>
</div><p>Replace <code>your_gmail_address</code> with your gmail address.</p>
<p>Voila.</p>
<h3 id="send-a-test-mail">Send a test mail</h3>
<p>We are done now. Just send a test mail now.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nb">echo</span> <span class="s2">&#34;Just a test mail&#34;</span> <span class="p">|</span> msmtp -a default <span class="s1">&#39;some email address&#39;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="use-with-mutt">Use with mutt</h3>
<p>You can use this <code>msmtp</code> setup with <code>mutt</code> which is suck less mail client and runs in a terminal.
I have a detailed video tutorial on <code>mutt</code> here.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube-nocookie.com/embed/vdTFRaM7YjQ" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>Thanks for reading.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2020-11-29</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://abdullah.today/send-mail-using-gmail-from-terminal/" data-title="Send Mail Using Gmail using Command Line" data-via="AbdullahToday" data-hashtags="mail,gmail,msmtp,mutt,terminal,suckless"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://abdullah.today/send-mail-using-gmail-from-terminal/" data-hashtag="mail"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://abdullah.today/send-mail-using-gmail-from-terminal/" data-title="Send Mail Using Gmail using Command Line"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://abdullah.today/send-mail-using-gmail-from-terminal/" data-title="Send Mail Using Gmail using Command Line"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://abdullah.today/send-mail-using-gmail-from-terminal/" data-title="Send Mail Using Gmail using Command Line"><i class="fab fa-weibo fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/mail/">mail</a>,&nbsp;<a href="/tags/gmail/">gmail</a>,&nbsp;<a href="/tags/msmtp/">msmtp</a>,&nbsp;<a href="/tags/mutt/">mutt</a>,&nbsp;<a href="/tags/terminal/">terminal</a>,&nbsp;<a href="/tags/suckless/">suckless</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/ssh-passwordless-authentication/" class="prev" rel="prev" title="SSH Passwordless Authentication"><i class="fas fa-angle-left fa-fw"></i>SSH Passwordless Authentication</a>
            <a href="/linux-filesystem-directory-structure/" class="next" rel="next" title="Linux Filesystem Directory Structure">Linux Filesystem Directory Structure<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="fb-root" class="comment"></div>
            <div
                class="fb-comments"
                data-href="https://abdullah.today/send-mail-using-gmail-from-terminal/"
                data-width="100%"
                data-numposts="10"
            ></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://developers.facebook.com/docs/plugins/comments/"></a>Facebook</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://abdullah.today" target="_blank">Abdullah Khabir</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v5.0&amp;appId=457812464807680&amp;autoLogAppEvents=1" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"search":{"algoliaAppID":"3L4LIEJSP4","algoliaIndex":"index-en","algoliaSearchKey":"5d79bed67aeb5ed5e5a990cfad81ebde","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
